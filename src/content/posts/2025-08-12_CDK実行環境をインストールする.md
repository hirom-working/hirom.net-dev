---
title: 'CDK実行環境をインストールする (uv + Python編)'
draft: false
published: 2025-08-12
description: 'WSL2(Ubuntu)にHomebrew・Nodebrew・AWS CLI・uv・Python版AWS CDKをインストールしてCDKの実行環境を構築する手順をまとめました。'
tags:
  - 'AWS_CDK'
  - 'Homebrew'
  - 'Nodebrew'
  - 'uv'
  - 'Python'
  - 'WSL2'
toc: true
coverImage:
  src: '_assets/IMG_1145.jpeg'
  alt: ''
---
## 0.概要

1. Ubuntuインストール
2. Homebrewインストール
3. Nodebrewインストール
4. Nodeセットアップ
5. AWS CLIインストール
6. AWSPインストール
7. AWSプロファイル作成（SSO環境）
8. uvインストール
9. AWS CDK (Python版) インストール

## 1.Ubuntuインストール

そのとき最新のLTSを入れる。現時点では24.04.1。

[**Ubuntuを入手する | Ubuntu** _Ubuntuは、スマートフォン、タブレット端末、PCからサーバー、クラウドまであらゆる環境で動作するオープンソースのソフト_ _jp.ubuntu.com_](https://jp.ubuntu.com/download)[](https://jp.ubuntu.com/download)

## 2.Homebrewインストール

パッケージ管理ツールの一つ。ここではNodebrewのインストールに使う。

[**Homebrew** _The Missing Package Manager for macOS (or Linux)._ _brew.sh_](https://brew.sh/ja/)[](https://brew.sh/ja/)

インストール方法は公式サイトに従う。  
PATHを通すのを忘れないこと。

PATHは公式の通りでも良いし、~/.profileに以下のように追記しても良いと思う。

```
## homebrew設定
### homebrewのパスを変数に格納
HOMEBREW_PATH="/home/linuxbrew/.linuxbrew/bin"
### PATHにhodebrewのパスが含まれているか確認
if [[ ":$PATH:" != *":$HOMEBREW_PATH:"* ]]; then
    # パスが存在しない場合は追加
    export PATH="$HOMEBREW_PATH:$PATH"
fi
```

## 3.Nodebrewインストール

```
brew install nodebrew
```

PATHを通すのを忘れないこと。  
ここでも、~/.profileに以下のようにしても良いと思う。

```
## nodebrew設定
### nodebrewのパスを変数に格納
NODEBREW_PATH="/home/linuxbrew/.linuxbrew/var/nodebrew/current/bin"
### PATHにnodebrewのパスが含まれているか確認
if [[ ":$PATH:" != *":$NODEBREW_PATH:"* ]]; then
    # パスが存在しない場合は追加
    export PATH="$NODEBREW_PATH:$PATH"
fi
export NODEBREW_ROOT=/home/linuxbrew/.linuxbrew/var/nodebrew
```

## 4.Nodebrewセットアップ

```
## Nodebrew セットアップ
nodebrew setup

## インストール可能なnode.jsのバージョンを確認（明確に必要なバージョンが分かってるなら飛ばしてもいい）
nodebrew ls-remote
 
## node.jsインストール
nodebrew install <バージョン>
 
## 使用するnode.jsの指定
nodebrew use <バージョン>
```

## 5.AWS CLIインストール

```
brew install awscli
```

以下のように~/.profileに追記してタブ補完も有効にしておく。

```
## AWSCLIタブ補完
complete -C '/home/linuxbrew/.linuxbrew/bin/aws_completer' aws
```

## 6.AWSPインストール

`awsp`はnpmでインストールするため、Node.jsの環境が必要です。

```
npm install -g awsp
```

インストール後はエイリアスを設定しておく。  
~/.bashrcに以下を追記。

```
alias awsp="source _awsp"
```

## 7.AWSプロファイル作成（SSO環境）

```
aws configure sso
```

コマンド入力後は流れに従う。

## 8.uvインストール

`uv`はRust製の高速なPythonパッケージ管理ツールです。
Homebrewもしくは公式のインストーラでインストールします。

```
brew install uv
```

または

```
curl -LsSf https://astral.sh/uv/install.sh | sh
```

## 9.AWS CDK (Python版) インストール

プロジェクトごとに仮想環境を作成し、その中にCDKをインストールします。

```
# プロジェクトディレクトリ作成
mkdir my-cdk-project
cd my-cdk-project

# 仮想環境作成
uv venv

# 仮想環境のアクティベート
source .venv/bin/activate

# AWS CDKのインストール
uv pip install aws-cdk-lib
```

CDKのバージョンを上げる際は、仮想環境の中で再度`uv pip install --upgrade aws-cdk-lib`を実行します。
