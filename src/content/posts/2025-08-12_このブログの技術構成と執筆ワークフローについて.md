---
title: 'このブログの技術構成と執筆ワークフローについて'
draft: false
published: 2025-08-12
description: 'このブログがどのような技術で作られているか、そしてObsidianとGemini-cliを活用した効率的な執筆フローについて解説します。'
tags:
  - 'Astro'
  - 'TypeScript'
  - 'TailwindCSS'
  - 'Obsidian'
  - 'Gemini-cli'
  - 'Netlify'
toc: true
---

## はじめに

こんにちは。このブログは、日々の技術的な学びや試したことを記録するために作られました。ありがたいことに、時々このブログの技術的な側面についてご質問をいただくことがあります。

そこでこの記事では、このブログがどのような技術スタックで構築され、そして、その執筆プロセスの中核を担うObsidianと、開発を加速させるGemini-cliという二つのツールをどのように活用しているか、その全体像を解説してみたいと思います。

## 執筆とコンテンツ制作のワークフロー

まず、技術スタックの話の前に、記事のアイデア出しから公開までの流れを支える重要なツールについて紹介します。

### Obsidian: 思考と執筆のハブ

このブログのすべての記事は、アイデアの種から完成した原稿に至るまで、[Obsidian](https://obsidian.md/) というツールで管理されています。単なるMarkdownエディタではなく、私の「第二の脳」として機能しています。

**なぜObsidianなのか？**

-   **ローカルファーストとポータビリティ:** すべてのデータはローカルのプレーンなMarkdownファイルとして保存されます。これにより、特定のプラットフォームにロックインされることなく、オフラインでも快適に作業ができます。このブログのリポジトリ自体をObsidianのVault（保管庫）として開くことで、コードとコンテンツを同じ場所で管理しています。
-   **リンクによる知識のネットワーク化:** Obsidianの最大の特徴は、`[[ページ名]]` という記法でノート同士を簡単にリンクできることです。これにより、断片的なアイデアが繋がり、過去のメモから新しい記事のインスピレーションを得る、といったことが頻繁に起こります。
-   **強力なプラグインエコシステム:** コミュニティが開発した豊富なプラグインにより、機能を自由に拡張できます。例えば、カレンダー表示で日々の執筆記録を可視化したり、特定のタグがついたノートを一覧表示したりと、自分だけの執筆環境を構築できます。

**具体的なワークフロー:**

1.  **アイデアのキャプチャ:** 日々の技術的な発見や考えたことを、Obsidianのデイリーノートに書き留めます。
2.  **記事の育成:** デイリーノートの断片的なアイデアにリンクを繋げ、関連する情報を集めながら、徐々に一つの記事として肉付けしていきます。
3.  **執筆:** `src/content/posts` ディレクトリ内に新しいMarkdownファイルを作成し、Obsidian上で執筆します。プレビュー機能で表示を確認しながら、一気に書き上げます。

このように、Obsidianは単なる執筆ツールに留まらず、知識を育て、ブログ記事としてアウトプットするための中核的な役割を担っています。

### Gemini-cli: 執筆と開発の強力なパートナー

このブログの構成案の作成、文章の推敲、そして開発作業の多くは、Google製のCLIツールである`gemini-cliと対話しながら進めています。

- **記事構成の壁打ち:** 「〜について記事を書きたい」と投げるだけで、章立ての提案や読者の興味を引きそうな切り口を提案してくれます。
- **文章の推敲:** 下書きを渡して、「もっと技術ブログらしい表現にして」「この部分を分かりやすく書き直して」といった指示で、文章のクオリティを上げてくれます。
- **開発サポート:** 「Astroでサイトマップを導入したい」「この正規表現を書いて」といった開発に関する質問や依頼にも、コードを直接生成・修正してくれます。

`gemini-cli`との対話的なやり取りは、一人で考え込む時間を大幅に削減し、執筆と開発のサイクルを高速化する上で不可欠な存在となっています。

## コア技術

次に、このブログを支える中心的な技術について解説します。

### Astro: 静的サイトジェネレーター

このブログは、静的サイトジェネレーター（SSG）の[Astro](https://astro.build/)をベースに構築されています。Astroを選んだ理由は以下の通りです。

- **パフォーマンス:** デフォルトでJavaScriptを一切出力しない「アイランドアーキテクチャ」により、非常に高速なサイトを構築できます。
- **UIフレームワーク非依存:** ReactやVue、Svelteなど、好みのUIフレームワークをコンポーネント単位で利用できます。このブログでは主に素のHTMLとCSSで記述していますが、将来的にインタラクティブな要素を追加する際の自由度が高いのが魅力です。
- **コンテンツ重視:** MarkdownやMDXのサポートが手厚く、コンテンツを中心としたサイト構築に適しています。

### TypeScript: 型の安全性

設定ファイルや一部のコンポーネントはTypeScriptで記述しています。ビルド時に型チェックを行うことで、予期せぬエラーを未然に防ぎ、コードの保守性を高めています。

### Tailwind CSS: ユーティリティファーストなスタイリング

デザインには[Tailwind CSS](https://tailwindcss.com/)を採用しています。あらかじめ用意されたユーティリティクラスをHTMLに直接書き込むスタイルは、CSSファイルとHTMLファイルを行き来する手間を省き、コンポーネント単位での開発と非常に相性が良いです。

## コンテンツと機能

ブログとしての表現力や利便性を高めるための仕組みです。

### MarkdownとMDX

記事はすべてMarkdownで記述しています。一部、インタラクティブなコンポーネントを埋め込みたい場合は、Markdown内でコンポーネントを扱えるMDXを利用することもあります。

### Remark/Rehypeプラグインによる表現力向上

AstroはMarkdownの処理にRemarkとRehypeというエコシステムを利用しています。このブログでも、多数のプラグインを導入して表現力を高めています。

- `remark-admonitions`: 注意書きやティップスなどを表現する装飾
- `rehype-katex`: KaTeXによる数式の表示
- `remark-github-card`: GitHubリポジトリのリンクを綺麗なカード形式で表示

これらにより、標準のMarkdownだけでは難しい、リッチな表現を可能にしています。

### astro-expressive-code: 高機能なシンタックスハイライト

ソースコードのシンタックスハイライトには、[Expressive Code](https://expressive-code.com/)のAstroインテグレーションである`astro-expressive-code`を利用しています。行番号の表示や特定の行のハイライトなど、コードを分かりやすく見せるための機能が豊富に揃っています。

### Pagefind: 静的サイト向けサイト内検索

サイト内検索には、Rust製の高速な検索インデックス作成ツールである[Pagefind](https://pagefind.app/)を導入しています。ビルド時にサイト全体のインデックスを生成し、クライアントサイドのJavaScriptで検索機能を提供するため、サーバーサイドの実装が不要で、静的サイトと非常に相性が良いです。

## ホスティングと自動デプロイ

### Netlifyによる快適なホスティングとCI/CD

このブログは、静的サイトのホスティングプラットフォームである[Netlify](https://www.netlify.com/)上で公開されています。Netlifyを選んだ理由は、その手軽さと強力な自動化機能にあります。

**主なメリット:**
- **簡単なデプロイ:** GitHubリポジトリをNetlifyに接続するだけで、`main`ブランチへのプッシュをトリガーにして、自動でビルドとデプロイが実行されます。
- **プレビュー機能:** プルリクエストを作成すると、変更内容を反映したプレビューサイトが自動で生成されます。マージする前に実際の表示を確認できるため、安心して変更を反映できます。
- **グローバルなCDN:** NetlifyのCDN（コンテンツデリバリネットワーク）により、世界中のどこからアクセスしてもサイトが高速に表示されます。

**デプロイフロー:**

1.  ローカルで記事を執筆し、`git push`でGitHubリポジトリに反映させる。
2.  プッシュを検知したNetlifyが、リポジトリのソースコードを取得する。
3.  `package.json`や`astro.config.mjs`の設定に基づき、`npm run build`コマンドでビルドを実行する。
4.  ビルドで生成された静的ファイル（`dist`ディレクトリ）が、NetlifyのCDNに自動でデプロイされる。

記事を書き終えて`git push`するだけで、数分後には全世界に公開が完了する、という非常に効率的なワークフローが実現できています。

## このブログのようなサイトを構築する手順

このブログの構成を参考に、Astroを使って自分だけのブログを構築する手順を解説します。特定のテンプレートに依存せず、公式のスターターキットやテーマから始めることで、より柔軟にカスタマイズできます。

### 1. 前提条件

- [Git](https://git-scm.com/)がインストールされていること
- [Node.js](https://nodejs.org/ja) (LTS版) がインストールされていること
- GitHubアカウントを持っていること
- Netlifyアカウントを持っていること

### 2. Astroプロジェクトの作成

まず、ターミナルで以下のコマンドを実行して、新しいAstroプロジェクトを作成します。

```bash
# "my-astro-blog"の部分は好きなプロジェクト名に変更してください
npm create astro@latest my-astro-blog
```

コマンドを実行すると、対話形式でいくつか質問されます。ブログを作成する場合、`A blog`テンプレートを選択するのが簡単です。

**よりデザイン性の高いテンプレートから始めたい場合**

Astroには、コミュニティによって作られた多くの美しいテーマがあります。[Astro公式サイトのテーマカタログ](https://astro.build/themes/)から好みのデザインを探し、各テーマの指示に従ってインストールすることもできます。このブログのテーマも、このカタログにあるものをベースにしています。

### 3. ローカルでの開発

プロジェクトのディレクトリに移動し、開発サーバーを起動します。

```bash
cd my-astro-blog
npm run dev
```

ブラウザで `http://localhost:4321` にアクセスすると、作成されたブログのテンプレートが表示されます。

### 4. 基本的なカスタマイズ

`npm create astro`で作成したブログテンプレートは、設定が非常にシンプルです。

- **サイト情報:** `src/consts.ts` ファイルを開き、`SITE_TITLE` と `SITE_DESCRIPTION` をご自身のブログの情報に書き換えます。
- **記事の追加:** `src/content/blog/` ディレクトリに、新しいMarkdownファイルを追加することで記事を作成できます。
- **デザインの変更:** スタイルは `src/styles/global.css` で定義されています。ここを編集したり、[Astroのインテグレーション](https://docs.astro.build/ja/guides/integrations-guide/)を使ってTailwind CSSなどを追加したりすることで、デザインを自由に変更できます。

**このブログの機能を追加するには**

このブログで採用している具体的なカスタマイズ（`astro-expressive-code`によるシンタックスハイライト、`Pagefind`による検索など）は、この記事の前半で紹介したツールを、作成したプロジェクトに個別に追加していくことで再現できます。各ツールの公式サイトを参考に、導入にチャレンジしてみてください。

### 5. Netlifyへのデプロイ

1.  まず、作成したプロジェクトをGitHubにプッシュします。（`npm create astro`でgitリポジトリを初期化した場合）
    - GitHub上で新しいリポジトリを作成します。
    - ローカルのリポジトリとリモートリポジトリを接続し、プッシュします。
    ```bash
    git remote add origin https://github.com/<YOUR_USERNAME>/<YOUR_REPOSITORY_NAME>.git
    git branch -M main
    git push -u origin main
    ```
2.  [Netlify](https://www.netlify.com/)にログインし、「Add new site」>「Import an existing project」から、作成したGitHubリポジトリを選択します。
3.  ビルド設定は自動で認識されますが、以下を確認します。
    *   **Build command:** `npm run build`
    *   **Publish directory:** `dist`
4.  「Deploy site」をクリックします。

これで、Astroの公式テンプレートをベースにした、あなただけのブログが公開されます。

## おわりに

この記事では、このブログを支える技術スタックと、それを活用した執筆・開発ワークフローについて解説しました。

- **執筆・知識管理:** Obsidian
- **構成・推敲:** Gemini-cli
- **フレームワーク:** Astro + TypeScript + Tailwind CSS
- **ホスティング & CI/CD:** Netlify

モダンな静的サイトジェネレーターとAIツールを組み合わせることで、非常に効率的で快適なブログ執筆環境を構築できていると感じています。この記事が、これからブログを作ろうと考えている方の参考になれば幸いです。
